<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title>Danh sách hàng tạp hóa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="mx-2 my-2">
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Mã sản phẩm</th><th>Tên sản phẩm</th><th>Giá tiền</th><th>Số lượng</th><th>Hành động</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="sp : ${ListSanPham}">
            <td th:text="${sp.masanpham}"></td>
            <td th:text="${sp.tensanpham}"></td>
            <td th:text="${sp.gia}"></td>
            <td th:text="${sp.soluong}"></td>
            <td>
                <a th:href="@{/suasansham/{id}(id=${sp.masanpham})}" class="btn btn-warning btn-sm">Sửa</a>
                <a th:href="@{/xoasanpham/{id}(id=${sp.masanpham})}" class="btn btn-danger btn-sm"
                   onclick="return confirm('Bạn có chắc muốn xóa?')">Xóa</a>
            </td>
        </tr>
        </tbody>
    </table>
    <a  href="/themsanpham" class="btn btn-success mb-3">Thêm sản phẩm</a>
    <div th:if="${home != null}">
        <h2 class="text-center" th:text="${home.masanpham != null ? 'Cập nhật sản phẩm' : 'Thêm sản phẩm'}"></h2>
        <form th:action="@{/luusanpham}" th:object="${home}" method="post">
            <div class="form-group">
                <label>Mã sản phẩm</label>
                <input type="text" th:field="*{masanpham}" class="form-control" required />
            </div>
            <div class="form-group">
                <label>Tên sản phẩm</label>
                <input type="text" th:field="*{tensanpham}" class="form-control" required />
            </div>
            <div class="form-group">
                <label class="form-label">Giá tiền (VND)</label>
                <input type="number" name="gia" class="form-control" step="0.01" placeholder="Nhập giá tiền" th:value="${home.gia == 0} ? '' : ${home.gia}" />
            </div>
            <div class="form-group">
                <label>Số lượng</label>
                <input type="number" name="soluong" class="form-control" placeholder="Nhập số lượng" th:value="${home.soluong == 0} ? '' : ${home.soluong}"/>
            </div>
           <div class="mt-4">
            <button type="submit" class="btn btn-primary">Lưu</button>
            <a href="/" class="btn btn-secondary">Hủy</a>
            </div>
        </form>
    </div>
</div>
<!-- just for fun - this program no error -->
<div class="d-flex flex-column align-items-center my-4">
<a type="submit" href="/error" class=" btn btn-danger " >
    <i class="bi bi-exclamation-triangle-fill"> </i> Lỗi <i class="bi bi-exclamation-triangle-fill"> </i>
</a>
    <small class="text-muted" style="font-size: 0.6rem; margin-top: 2px;">Don't touch!!</small>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</body>
</html>